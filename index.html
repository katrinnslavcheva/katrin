<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Галерия върху карта</title>
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin="" />
  <style>
    html, body { height: 100%; margin: 0; }
    #map { height: 100%; width: 100%; }
    .popup img { max-width: 260px; height: auto; display: block; border-radius: 8px;
                 box-shadow: 0 2px 10px rgba(0,0,0,.2); margin-bottom: 6px; }
    .popup h4 { margin: 0 0 4px 0; font: 600 14px/1.3 system-ui, Arial; }
    .popup small { color:#555; }
    .credit { position: absolute; z-index: 999; right: 8px; bottom: 8px; background: #fff;
              padding: 6px 8px; border-radius: 8px; box-shadow: 0 1px 6px rgba(0,0,0,.15);
              font: 12px system-ui, Arial; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="credit">Карта: © <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> ·
    Библиотека: <a href="https://leafletjs.com/" target="_blank">Leaflet</a></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
          crossorigin=""></script>

  <script>
    // Добавяй снимките тук (точни имена и разширения, както са в репото)
    const PHOTOS = [
      { lat: 42.697887755392884, lng: 23.330386398798577, src: "IMG_3380.JPEG", title: "София – НДК", date: "2025-08-21" },
      // { lat: ..., lng: ..., src: "ДРУГА_СНИМКА.JPEG", title: "Описание", date: "ГГГГ-ММ-ДД" },
    ];

    // Картата + OSM слой
    const map = L.map('map');
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Маркери и popups
    const markers = [];
    PHOTOS.forEach(p => {
      const html = `
        <div class="popup">
          <h4>${p.title || "Снимка"}</h4>
          <img src="${p.src}" alt="${p.title || "Photo"}" />
          ${p.date ? `<small>Дата: ${p.date}</small><br/>` : ""}
          <small>Коорд.: ${p.lat.toFixed(5)}, ${p.lng.toFixed(5)}</small>
        </div>`;
      const m = L.marker([p.lat, p.lng]).bindPopup(html, { maxWidth: 280 });
      m.addTo(map);
      markers.push(m);
    });

    // Центриране
    if (markers.length) {
      const group = L.featureGroup(markers);
      map.fitBounds(group.getBounds().pad(0.2));
    } else {
      map.setView([42.7, 23.3], 7);
    }
  </script>
</body>
</html>
